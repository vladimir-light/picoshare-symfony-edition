{% extends 'crud_bulma.html.twig' %}

{% block page_title %}{{ pageTitle|default('File Information') }}{% endblock %}


{% block crud_main_contents %}

    <div class="content container">
        <h2 class="title mt-5">{{ pageTitle|default('_Page_Titlte_') }}</h2>
        <section>
            <h4>Links</h4>
            {% include '_partials/download_links.html.twig' with {
                entryUniqId: foundFile.uniqLinkId.toBase58,
                entryFilename: foundFile.safeFilename,
            } %}
        </section>
        <section class="mt-3">
            <h4>Filename</h4>
            <p>{{ foundFile.filename }}</p>
        </section>
        <section class="mt-3">
            <h4>Size</h4>
            <p>{{- foundFile.size|human_filesize -}}</p>
        </section>
        <section class="mt-3">
            <h4>Expires</h4>
            <p>
                {% if foundFile.endless %}
                    Never
                {% else %}
                    <span title="{{ foundFile.expiresAt|date('Y-m-d H:i:s') }}">{{- foundFile.expiresAt|date('Y-m-d') -}}&nbsp;({{- foundFile.expiresAt|time_diff -}})</span>
                {% endif %}
            </p>
        </section>
        <section class="mt-3">
            <h4>Downloads</h4>
            <p>
                {{- downloadsCount|default(0) -}}&nbsp;(<a href="{{- path('pico_admin_files_downloads', {uniqId: foundFile.uniqLinkId.toBase58}) -}}">History</a>)
            </p>
        </section>
        <section class="mt-3">
            <h4>Note</h4>
            <p>
                {% if foundFile.note|default %}
                    {{- foundFile.note }}
                {% else %}
                    None
                {% endif %}
            </p>
        </section>
        <section class="mt-3">
            <h4>Uploaded by</h4>
            <p>
                {% if foundFile.guestLink is null %}
                    You
                {% else %}
                    Guest link: <a href="{{ path('pico_upload_file_with_guest_link', {guestLinkUniqId: foundFile.guestLink.uniqLinkId.toBase58}) }}">{{ foundFile.guestLink.label -}}</a>
                {% endif %}
            </p>
        </section>
        <section class="mt-3">
            <h4>Upload time</h4>
            <p>{{- foundFile.createdAt|date('Y-m-d H:i') }}</p>
        </section>

        <section class="mt-3">
            <a href="{{- path('pico_admin_files') -}}" class="button is-light">Back</a>
            <a href="{{- path('pico_admin_files_edit', { uniqId: entryUniqId }) -}}" class="button is-info">Edit</a>
        </section>
    </div>
{% endblock crud_main_contents %}

